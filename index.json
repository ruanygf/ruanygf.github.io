[{"categories":["documentation"],"content":"template","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"利用 hugo 生成 html 界面，分别建立源码仓库与网页仓库，通过 github 的 action 功能实现一次推送两个仓库更新 参考链接 如何用 GitHub Pages + Hugo 搭建个人博客 themes.gohugo/ ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:0:0","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"1 准备环境 arch hugo 本地 Git + 远程 Github 账号 关于安装的 hugo 版本 建议 hugo 安装 0.145.0 版本，当前时间（2025.11.11）使用最新版 0.152.2 版本在使用 LoveIt 主题时会出现下面的报错 YamiNook git:(main) ✗ hugo server WARN deprecated: the \":filename\" permalink token was deprecated in Hugo 0.144.0 and will be removed in a future release. Use \":contentbasename\" instead. Error: html/template:_markup/render-codeblock-mermaid.html:6:17: no such template \"_default/_markup/render-codeblock.html\" 如果已经安装 hugo, 执行下列操作： paru -Rsn hugo wget https://archive.archlinux.org/packages/h/hugo/hugo-0.145.0-3-x86_64.pkg.tar.zst sudo pacman -U hugo-0.145.0-3-x86_64.pkg.tar.zst hugo version # 显示 v0.145.0 即可 ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:1:0","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"2 构建仓库 github 上建立 2 个仓库，一个存放源码，一个存放渲染的网页，通过 github 自带的 action 功能，将代码提交到源码仓库能自动渲染同步到渲染仓库 ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:2:0","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"2.1 远程源码仓库 名字自取，推荐和之后建立的项目名一致，设置私有，如我的博客名称是“yaminook”，因此取这个名字，后续本地建立的项目名称也是这个名字 ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:2:1","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"2.2 远程渲染仓库 名称必须为“用户名.github.io”，设置公有 ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:2:2","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"2.3 部署密钥（实现仓库间免密推送） 创建 SSH 密钥，让源码仓库的 Actions 有权限推送文件到 ruanygf.github.io 网页仓库。 在本地终端生成 SSH 密钥对（无需设置密码，一路回车）： ssh-keygen -t ed25519 -C \"hugo-deploy\" -f ~/.ssh/hugo_deploy_key 执行后会生成两个文件： 私钥： ~/.ssh/hugo_deploy_key （保密，仅配置在源文件仓库） 公钥： ~/.ssh/hugo_deploy_key.pub （配置在 GitHub Pages 仓库） 配置公钥到 ruanygf.github.io 仓库（目标仓库）： 打开 GitHub 上的 ruanygf/ruanygf.github.io 仓库 → 进入「Settings」→ 「Deploy keys」→ 「Add deploy key」。 Title 填「hugo-deploy-key」，Key 粘贴 hugo_deploy_key.pub 文件的全部内容，勾选「Allow write access」（允许写入），点击「Add key」。 配置私钥到源文件仓库： 打开 GitHub 上的 ruanygf/yaminook 仓库 → 进入「Settings」→ 「Secrets and variables」→ 「Actions」→ 「New repository secret」。 Name 填「DEPLOY_KEY」，比如我写的是“ACTION_OF_BLOG_YAMINOOK”（必须与下文中 deploy.yml 中的 ${{ secrets.DEPLOY_KEY}} 一致），Secret 粘贴 hugo_deploy_key 文件的全部内容，点击「Add secret」。 ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:2:3","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"3 构建项目 ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:3:0","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"3.1 创建空项目 本地创建项目（包含博客源代码与渲染文件）： # 创建项目 hugo new site YamiNook # YamiNook 为博客名 执行完毕项目目录如下： ➜ YamiNook tree -L 2 . ├── archetypes │ └── default.md ├── assets ├── content ├── data ├── hugo.toml ├── i18n ├── layouts ├── static └── themes ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:3:1","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"3.2 安装主题 主题可以在 themes.gohugo/ 寻找，这里以 LoveIt 为例： git init git submodule add https://github.com/dillonzq/LoveIt.git themes/LoveIt ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:3:2","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"3.3 依据模板修改配置 将 themes/LoveIt/exampleSite/ 下的所有内容复制到项目目录下进行替换 cp -r themes/LoveIt/exampleSite/* ./ 复制完毕目录如下： ➜ YamiNook git:(master) ✗ tree -L 2 . ├── archetypes │ └── default.md ├── assets │ ├── css │ ├── images │ └── music ├── content │ ├── about │ ├── categories │ ├── posts │ └── tags ├── data ├── hugo.toml ├── i18n ├── layouts ├── static │ ├── android-chrome-192x192.png │ ├── android-chrome-512x512.png │ ├── Apple-Devices-Preview.png │ ├── apple-touch-icon.png │ ├── browserconfig.xml │ ├── Dillon.png │ ├── favicon-16x16.png │ ├── favicon-32x32.png │ ├── favicon.ico │ ├── mstile-150x150.png │ ├── _redirects │ ├── safari-pinned-tab.svg │ └── site.webmanifest └── themes └── LoveIt 修改 hugo.toml 中的内容，必要有 3 点： baseURL = \"https://ruanygf.github.io/ # 网页链接 theme = \"LoveIt\" #主题名称 themesDir = \"./themes\" # 主题目录 修改以上三点就可以跑了，要再进行一些别的自定义设置可以有： title = \"YamiNook\" defaultContentLanguage = \"zh-cn\" languageCode = \"zh-CN\" languageName = \"简体中文\" hasCJKLanguage = true gitRepo = \"https://github.com/ruanygf/ruanygf.github.io\" svgFavicon = \"safari-pinned-tab-half.svg\" # 网站图标 我的 hugo.toml 自定义设置，可以与官方的进行比较查看改动 baseURL = \"https://example.com\" # theme # 主题 theme = \"LoveIt\" # themes directory # 主题目录 themesDir = \"../..\" # website title # 网站标题 title = \"LoveIt\" # determines default content language [\"en\", \"zh-cn\", \"fr\", \"pl\", ...] # 设置默认的语言 [\"en\", \"zh-cn\", \"fr\", \"pl\", ...] defaultContentLanguage = \"en\" # language code [\"en\", \"zh-CN\", \"fr\", \"pl\", ...] # 网站语言, 仅在这里 CN 大写 [\"en\", \"zh-CN\", \"fr\", \"pl\", ...] languageCode = \"en\" # language name [\"English\", \"简体中文\", \"Français\", \"Polski\", ...] # 语言名称 [\"English\", \"简体中文\", \"Français\", \"Polski\", ...] languageName = \"English\" # whether to include Chinese/Japanese/Korean # 是否包括中日韩文字 hasCJKLanguage = false # copyright description used only for seo schema # 版权描述，仅仅用于 SEO copyright = \"\" # whether to use robots.txt # 是否使用 robots.txt enableRobotsTXT = true # whether to use git commit log # 是否使用 git 信息 enableGitInfo = true # whether to use emoji code # 是否使用 emoji 代码 enableEmoji = true # ignore some build errors # 忽略一些构建错误 ignoreErrors = [\"error-remote-getjson\", \"error-missing-instagram-accesstoken\"] # Pagination config # 分页配置 [pagination] disableAliases = false pagerSize = 10 path = \"page\" # Menu config # 菜单配置 [menu] [[menu.main]] weight = 1 identifier = \"posts\" # you can add extra information before the name (HTML format is supported), such as icons # 你可以在名称 (允许 HTML 格式) 之前添加其他信息, 例如图标 pre = \"\" # you can add extra information after the name (HTML format is supported), such as icons # 你可以在名称 (允许 HTML 格式) 之后添加其他信息, 例如图标 post = \"\" name = \"Posts\" url = \"/posts/\" # title will be shown when you hover on this menu link # 当您将鼠标悬停在此菜单链接上时, 将显示标题 title = \"\" [[menu.main]] weight = 2 identifier = \"tags\" pre = \"\" post = \"\" name = \"Tags\" url = \"/tags/\" title = \"\" [[menu.main]] weight = 3 identifier = \"categories\" pre = \"\" post = \"\" name = \"Categories\" url = \"/categories/\" title = \"\" [params] # site default theme [\"auto\", \"light\", \"dark\"] # 网站默认主题 [\"auto\", \"light\", \"dark\"] defaultTheme = \"auto\" # public git repo url only then enableGitInfo is true # 公共 git 仓库路径，仅在 enableGitInfo 设为 true 时有效 gitRepo = \"https://github.com/dillonzq/LoveIt\" # which hash function used for SRI, when empty, no SRI is used # [\"sha256\", \"sha384\", \"sha512\", \"md5\"] # 哪种哈希函数用来 SRI, 为空时表示不使用 SRI # [\"sha256\", \"sha384\", \"sha512\", \"md5\"] fingerprint = \"\" # date format # 日期格式 dateFormat = \"2006-01-02\" # website title for Open Graph and Twitter Cards # 网站标题, 用于 Open Graph 和 Twitter Cards title = \"LoveIt\" # website description for RSS, SEO, Open Graph and Twitter Cards # 网站描述, 用于 RSS, SEO, Open Graph 和 Twitter Cards description = \"Hugo theme - LoveIt\" # website images for Open Graph and Twitter Cards # 网站图片, 用于 Open Graph 和 Twitter Cards images = [\"/logo.png\"] # Author config # 作者配置 [params.author] name = \"xxxx\" email = \"\" link = \"\" # Header config # 页面头部导航栏配置 [params.header] # desktop header mode [\"fixed\", \"normal\", \"auto\"] # 桌面端导航栏模式 [\"fixed\", \"normal\", \"auto\"] desktopMode = \"","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:3:3","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"3.4 本地预览 终端在项目目录下执行下列命令，如果没有报错终端会出现一个本地链接，在浏览器打开链接即可预览 hugo server # 如果想要显示草稿，使用 hugo server -D # 会出现 Web Server is available at http://localhost:41001/ (bind address 127.0.0.1) ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:3:4","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"4 本地和远程建立连接 ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:4:0","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"4.1 本地源码仓库与远程源码仓库链接 本地在 yaminook 文件夹下执行 git remote add origin git@github.com:ruanygf/yaminook.git git branch -m master main # 将默认分支修改为 main 与远程保持一致 ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:4:1","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"4.2 本地源码仓库与远程网页仓库链接 本地在 yaminook 文件夹下执行 # 添加配置文件 mkdir -p .github/workflows touch .github/workflows/deploy.yml # 新建部署脚本文件 将以下内容粘贴到 deploy.yml 中（注释部分可能需要替换关键信息），目的是当推送到 main 分支时触发执行 name: 自动部署 Hugo 网站到 GitHub Pages on: push: branches: [ main ] jobs: deploy: runs-on: ubuntu-latest steps: # 1. 拉取源文件仓库代码 - name: 检出源文件 uses: actions/checkout@v4 with: submodules: true fetch-depth: 0 # 2. 安装 Hugo（版本与本地一致，可通过 hugo version 查看） - name: 安装 Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: '0.145.0' # 替换为本地 Hugo 版本 extended: true # 3. 构建 Hugo 静态网站（生成 public 目录） - name: 构建网站 run: hugo --minify # 4. 推送构建结果到 GitHub Pages 仓库 - name: 部署到 ruanygf.github.io uses: peaceiris/actions-gh-pages@v4 with: external_repository: ruanygf/ruanygf.github.io # # 替换为推送目标仓库（GitHub Pages 仓库） deploy_key: ${{ secrets.ACTION_OF_BLOG_YAMINOOK }} # 替换为身份验证 Token（需要提前创建，步骤见上文） publish_dir: ./public # 推送的目录（Hugo 构建后的静态文件在 public 目录，通常不需要修改） publish_branch: main ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:4:2","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":["documentation"],"content":"4.3 仓库推送 推送代码到源码仓库 git add . git commit -m \"xxxx\" git push origin main 查看部署状态： 进入源文件仓库 → 「Actions」→ 查看最新的 workflow 运行记录，若显示绿色对勾则部署成功。 等待一小会会发现 ruanygf.github.io 中同步了 public 目录下的内容，访问自己的博客网站（如我的是 https://ruanygf.github.io ），即可看到自动构建的网站（包含测试文章）。 ","date":"2025-11-12","objectID":"/2025-11-12-arch-build-blog-with-github-and-hugo/:4:3","tags":["installation","configuration"],"title":"arch 用 github 与 hugo 搭建博客","uri":"/2025-11-12-arch-build-blog-with-github-and-hugo/"},{"categories":null,"content":"关于 YamiNook","date":"2025-11-11","objectID":"/about/","tags":null,"title":"关于 YamiNook","uri":"/about/"},{"categories":null,"content":"你好！这里是Rani的博客。 ","date":"2025-11-11","objectID":"/about/:0:0","tags":null,"title":"关于 YamiNook","uri":"/about/"}]